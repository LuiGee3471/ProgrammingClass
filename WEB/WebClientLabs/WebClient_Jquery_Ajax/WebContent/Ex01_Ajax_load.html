<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script>
      /*
      jQuery 통한 AJAX 작업 : XMLHttpRequest 객체를 활용하면 바닐라로도 가능
      jQuery 통한 AJAX 사용 : 비동기 함수를 제공받는다(load())

      jQuery가 제공하는 비동기 함수
      1. Global Ajax Event Handlers
      2. Helper Functions
      3. Low-Level Interface
      4. Shorthand Methods

      load 함수
      1. 서버에서 받는 데이터가 (html, text 형식)일 때 사용
      2. client 특정 요소(element(div))에 삽입을 목적으로 사용

      $(selector).load(URL, data, callback);
      data > {msg: hello} > jsp?msg=hello
      
      load()를 제일 간단하게
      $("#display").load("Ex01_Ajax_load.jsp");
      */

      $(function() {
        $("#btn").click(function() {
          $("#display").load(
            "Ex01_Ajax_load.jsp",
            { msg: $("#msg2").val() },
            function(responseText, statusText, xhr) {
              if (statusText == "success") {
                alert(`load success: 200 ~ 299 : ${responseText}`);
              } else {
                alert(`load Fail : ${xhr.status} : ${xhr.statusText}`);
              }
            }
          );
        });
      });
    </script>
  </head>
  <body>
    <h3>동기 처리</h3>
    <div id="frmsend">
      <form action="Ex01_Ajax_load.jsp" method="get">
        <input type="text" name="msg" id="msg" />
        <input type="submit" value="동기 전송" />
      </form>
    </div>
    <h3>비동기 처리</h3>
    <input type="text" name="msg" id="msg2" />
    <input type="button" value="비동기 전송" id="btn" />

    <div id="display"></div>
  </body>
</html>
